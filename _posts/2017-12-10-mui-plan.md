---
layout: post
title: MUI 学习计划
---

MUI官网： [http://dev.dcloud.net.cn/mui](http://dev.dcloud.net.cn/mui)

## 1. 为何要学习 MUI ？

公司内部已经推广使用 MUI，作为手机APP，微信APP 的前端框架，掌握它已经刻不容缓。

## 2.下面将会记录开发中遇到的问题

### 2.1 Mui 扩展字体图标如何调用？

Mui 扩展字体图标：[http://dev.dcloud.net.cn/mui/mui-icon-extra/index.html](http://dev.dcloud.net.cn/mui/mui-icon-extra/index.html)

如何调用：[http://ask.dcloud.net.cn/question/23873](http://ask.dcloud.net.cn/question/23873)

新建 mui 移动 appmui 样式模板，在 css 目录下找到 icons-extra.css 文件，在 fonts 目录下找到 mui-icons-extra.ttf 文件，
这两个文件就是 Mui 扩展字体图标 所需要的，将其粘贴到自己的项目下，对应好目录，再 link 这个 icons-extra.css，就行了。

### 2.2 

规定背景图像的尺寸：background-size  

background-size用法：[http://www.w3school.com.cn/cssref/pr_background-size.asp](http://www.w3school.com.cn/cssref/pr_background-size.asp)

设置字体的尺寸：font-size

### 2.3 ps 两根辅助线之间的距离？

### 2.4 

添加轮播图的时候，header 与 slider 之间总是有一条灰色的线，
这是因为
Mui v3.7.0 下的 
.mui-bar-nav 添加了
-webkit-box-shadow: 0 1px 6px #ccc; 
box-shadow: 0 1px 6px #ccc;
（box-shadow 会覆盖掉 -webkit-box-shadow）产生了阴影；

Mui v2.7.0 下的
.mui-bar-nav 是没有这两个属性的。

因为现在 app 生产环境下 使用的 mui.min.css 是 Mui v2.7.0，所以建议 新开发的页面也使用 mui.min.css 是 Mui v2.7.0 的。

### 2.5 公告列表文字溢出，新闻滚动。

```html
<ul style="overflow:hidden;height:30px;">
    <li>1</li>
    <li>2</li>
    <li>3</li>
	<li>1</li>
    <li>2</li>
    <li>3</li>
</ul>
```

overflow 属性规定当内容溢出元素框时发生的事情。  
hidden 内容会被修剪，并且其余内容是不可见的。

向上滚动 js 模板代码

```js
//新闻滚动，ul.height = 30px;
function scroll() {
	var box = document.getElementById("scroll"),
		can = true;
	var stop = box.scrollTop % 30 == 0 && !can;
	if(!stop) box.scrollTop == parseInt(box.scrollHeight / 2) ? box.scrollTop = 0 : box.scrollTop++;
	setTimeout(arguments.callee, box.scrollTop % 30 ? 10 : 1500);
};
```

有两点是值得关注的：
1. js中的 30 是 <ul> 的高度；
2. 列表中的 <li> 是 2倍的公告列表。

### 2.6 如何禁止手机浏览器、微信浏览器的上下滑动问题

原文地址：[https://segmentfault.com/q/1010000003921576](https://segmentfault.com/q/1010000003921576)

```js
document.querySelector('body').addEventListener('touchstart', function (ev) {
	event.preventDefault();
});
```

慎用，记得看上面链接里的评论。

### 2.7 HTML 5 Web 存储

APP 中用于存储客户登录状态，使用了 localStorage。

localStorage - 没有时间限制的数据存储。第二天、第二周或下一年之后，数据依然可用。

localStorage用法小总结：[http://www.jianshu.com/p/39ba41ead42e](http://www.jianshu.com/p/39ba41ead42e)

APP 中主要用到了两个方法用于存储和读取数据。

存储：setItem(key, value)
读取：getItem(key)

例子：
```js
//存储登录状态
localStorage.setItem('isLogin', 'true');
//读取登录状态
localStorage.getItem("isLogin");
//清空登录状态
localStorage.setItem('isLogin', '');
```

### 2.8 showWaiting

```js
var wd = plus.nativeUI.showWaiting();
wd.close();
```
创建并显示系统样式等待对话框，并返回等待对话框对象Waiting，显示后需调用其close方法进行关闭。

nativeUI 管理系统原生界面，可用于弹出系统原生提示对话框窗口、时间日期选择对话框、等待对话框等。

原文地址：[http://www.html5plus.org/doc/zh_cn/nativeui.html#plus.nativeUI.showWaiting](http://www.html5plus.org/doc/zh_cn/nativeui.html#plus.nativeUI.showWaiting)

使用：在点击登录按钮的时候，显示一个转圈，ajax 回调的时候再将其关闭。



### 2.9 currentWebview

```js
var sub = plus.webview.create('view/menu.html', 'view/menu.html', {top: '0px',bottom: '51px'});
var self = plus.webview.currentWebview();
self.append(sub);
```

获取当前窗口的WebviewObject对象

原文地址：[http://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.currentWebview](http://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.currentWebview)

使用：在 APP 首页(底部选项卡)，获取当前窗口的WebviewObject对象， 创建子的页面，append 到 WebviewObject。